<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ERP System - Academics</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
  /* === Copied/kept same base styling as your main page for a perfect match === */
  * { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
  body { display:flex; min-height:100vh; background-color:#f5f7fa; color:#333; }

  /* Sidebar */
  .sidebar{
    width:250px; height:100vh; display:flex; flex-direction:column;
    background:linear-gradient(135deg,#2c3e50,#1a2530); position:sticky; top:0;
  }
  .logo{ padding:25px 20px; background:#000; text-align:center; color:#fff; flex:0 0 auto; }
  .logo h1{ font-size:22px; margin-bottom:5px; font-weight:600; }
  .logo p{ font-size:14px; color:#ccc; }
  .nav-links{ flex:1 1 auto; display:flex; flex-direction:column; justify-content:space-evenly; padding:18px 12px; background-color:#fff; }
  .nav-item{ padding:15px 18px; display:flex; align-items:center; color:#111; text-decoration:none; transition:all .25s ease; border-left:4px solid transparent; border-radius:10px; }
  .nav-item:hover, .nav-item.active{ background:rgba(0,0,0,0.03); border-left-color:#3498db; }
  .nav-item i{ margin-right:12px; font-size:18px; width:24px; text-align:center; }

  /* Main content */
  .main-content{ flex:1; padding:25px; overflow-y:auto; }
  .header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:30px; padding-bottom:20px; border-bottom:1px solid #e0e6ed; }
  .header h2{ font-size:28px; color:#2c3e50; font-weight:600; }
  .search-box{ display:flex; align-items:center; background:#fff; border-radius:30px; padding:8px 20px; box-shadow:0 2px 10px rgba(0,0,0,0.08); width:320px; }
  .search-box input{ border:none; outline:none; padding:8px 12px; width:100%; font-size:15px; background:transparent; }

  /* Stats cards */
  .stats-container{ display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:25px; margin-bottom:35px; }
  .stat-card{ background:#fff; border-radius:12px; padding:25px; box-shadow:0 5px 15px rgba(0,0,0,0.08); display:flex; align-items:center; }
  .stat-icon{ width:65px; height:65px; border-radius:15px; display:flex; align-items:center; justify-content:center; margin-right:20px; font-size:26px; }
  .stat-icon.blue{ background:#e3f2fd; color:#1976d2; }
  .stat-icon.green{ background:#e8f5e9; color:#388e3c; }
  .stat-icon.purple{ background:#f3e5f5; color:#7b1fa2; }
  .stat-icon.orange{ background:#fff3e0; color:#f57c00; }
  .stat-info h3{ font-size:28px; margin-bottom:8px; color:#2c3e50; }
  .stat-info p{ color:#666; font-size:15px; }

  /* Panels */
  .panels { display:grid; grid-template-columns: 2fr 1fr; gap:25px; margin-bottom:30px; }
  .panel { background:#fff; border-radius:12px; padding:20px; box-shadow:0 5px 15px rgba(0,0,0,0.08); }
  .panel h3{ margin-bottom:12px; color:#2c3e50; }

  /* Course cards */
  .courses-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:16px; }
  .course { border-radius:10px; padding:14px; background:#f8f9fa; display:flex; flex-direction:column; gap:8px; }
  .course h4{ margin:0; font-size:16px; color:#1a2530; }
  .course p{ margin:0; color:#555; font-size:13px; }
  .course .meta{ display:flex; justify-content:space-between; align-items:center; margin-top:8px; }
  .chip{ padding:6px 10px; border-radius:999px; font-size:13px; background:#fff; box-shadow:0 2px 6px rgba(0,0,0,0.03); }

  /* Table */
  .table-container{ background:#fff; border-radius:12px; box-shadow:0 5px 15px rgba(0,0,0,0.08); overflow:hidden; margin-top:0; }
  .table-header{ padding:18px 25px; border-bottom:1px solid #e0e6ed; display:flex; justify-content:space-between; align-items:center; }
  .table-header h3{ font-size:18px; color:#2c3e50; }
  .table-header p{ color:#666; font-size:14px; margin:4px 0 0; }
  table{ width:100%; border-collapse:collapse; }
  th, td{ padding:12px 18px; text-align:left; border-bottom:1px solid #e0e6ed; font-size:14px; }
  th{ background:#f8f9fa; font-weight:600; color:#2c3e50; }
  tr:hover{ background:#f8f9fa; }
  .btn{ padding:8px 14px; border:none; border-radius:6px; cursor:pointer; font-weight:500; transition:all .3s ease; }
  .btn-view{ background:#e3f2fd; color:#1976d2; }
  .btn-edit{ background:#fff3e0; color:#f57c00; margin-left:8px; }

  /* Modal */
  #detailModal{ display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:1000; }
  .modal-content{ background:#fff; padding:22px 26px; border-radius:10px; width:520px; max-width:95%; position:relative; }
  #closeModal{ position:absolute; top:10px; right:15px; font-size:22px; cursor:pointer; color:#333; }
  .modal-content p{ margin:8px 0; font-size:14px; color:#333; }
  .modal-content h2{ margin-bottom:8px; }

  /* Responsive tweaks */
  @media (max-width:992px){ body{ flex-direction:column; } .sidebar{ width:100%; height:auto; } .nav-links{ flex-direction:row; justify-content:flex-start; gap:8px; padding:12px; overflow-x:auto; background:#fff; } .nav-item{ white-space:nowrap; } .panels{ grid-template-columns:1fr; } }
  @media (max-width:768px){ .header{ flex-direction:column; align-items:flex-start; } .search-box{ width:100%; margin-top:16px; } .stats-container{ grid-template-columns:1fr; } }
</style>
</head>
<body>

<aside class="sidebar">
  <div class="logo">
    <h1>ERP System</h1>
    <p>CSE & AIML</p>
  </div>
  <nav class="nav-links">
    <a href="overview.html" class="nav-item"><i class="fas fa-chart-pie"></i><span>Overview</span></a>
    <a href="students.html" class="nav-item"><i class="fas fa-user-graduate"></i><span>Students</span></a>
    <a href="faculty.html" class="nav-item"><i class="fas fa-chalkboard-teacher"></i><span>Faculty</span></a>
    <a href="#" class="nav-item active"><i class="fas fa-book"></i><span>Academics</span></a>
    <a href="labs.html" class="nav-item"><i class="fas fa-flask"></i><span>Labs & Projects</span></a>
  </nav>
</aside>

<main class="main-content">
  <div class="header">
    <h2>ACADEMICS</h2>
    <div class="search-box">
      <i class="fas fa-search"></i>
      <input id="globalSearch" type="text" placeholder="Search courses, faculty, or subjects">
    </div>
  </div>

  <div class="stats-container">
    <div class="stat-card"><div class="stat-icon blue"><i class="fas fa-book-open"></i></div><div class="stat-info"><h3 id="totalCourses">34</h3><p>Total Courses</p></div></div>
    <div class="stat-card"><div class="stat-icon green"><i class="fas fa-calendar-alt"></i></div><div class="stat-info"><h3 id="activeSem">2</h3><p>Active Semester</p></div></div>
    <div class="stat-card"><div class="stat-icon purple"><i class="fas fa-user-tie"></i></div><div class="stat-info"><h3 id="courseCoordinators">12</h3><p>Course Coordinators</p></div></div>
    <div class="stat-card"><div class="stat-icon orange"><i class="fas fa-clock"></i></div><div class="stat-info"><h3 id="avgCredits">3.5</h3><p>Average Credits</p></div></div>
  </div>

  <div class="panels">
    <!-- Left: Courses and Syllabus -->
    <div class="panel">
      <h3>Courses & Syllabus</h3>
      <div class="courses-grid" id="coursesGrid">
        <!-- Course cards will be injected here -->
      </div>
    </div>

    <!-- Right: Quick actions / Upcoming -->
    <div class="panel">
      <h3>Quick Actions</h3>
      <div style="display:flex;flex-direction:column;gap:10px;margin-top:10px;">
        <button class="btn btn-view" id="addCourseBtn">+ Add Course</button>
        <button class="btn" id="uploadSyllabusBtn">Upload Syllabus</button>
        <div style="margin-top:16px;">
          <h4 style="margin:0 0 8px 0;color:#2c3e50">Upcoming Exams</h4>
          <div style="display:flex;flex-direction:column;gap:8px">
            <div class="chip">OS — Nov 03, 2025</div>
            <div class="chip">DBMS — Nov 10, 2025</div>
            <div class="chip">ML — Nov 17, 2025</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="table-container">
    <div class="table-header">
      <div>
        <h3>Course Catalogue</h3>
        <p>List of all courses offered this semester</p>
      </div>
      <div>
        <select id="filterDept" style="padding:8px;border-radius:8px;border:1px solid #e0e6ed;">
          <option value="">All Departments</option>
          <option value="CSE">CSE</option>
          <option value="AI/ML">AI/ML</option>
        </select>
      </div>
    </div>
    <table>
      <thead>
        <tr>
          <th>Code</th><th>Course</th><th>Dept</th><th>Credits</th><th>Coordinator</th><th>Type</th><th>Action</th>
        </tr>
      </thead>
      <tbody id="coursesTableBody">
        <!-- rows injected here -->
      </tbody>
    </table>
  </div>
</main>

<!-- Modal for course details -->
<div id="detailModal">
  <div class="modal-content">
    <span id="closeModal">&times;</span>
    <h2 id="mdlCourseTitle">Course Title</h2>
    <p><strong>Code:</strong> <span id="mdlCode"></span></p>
    <p><strong>Department:</strong> <span id="mdlDept"></span></p>
    <p><strong>Credits:</strong> <span id="mdlCredits"></span></p>
    <p><strong>Coordinator:</strong> <span id="mdlCoord"></span></p>
    <p><strong>Description:</strong></p>
    <p id="mdlDesc" style="color:#555;font-size:14px"></p>
    <div style="margin-top:12px;">
      <button class="btn btn-view" id="mdlSyllabusBtn">View Syllabus</button>
      <button class="btn btn-edit" id="mdlEditBtn">Edit</button>
    </div>
  </div>
</div>

<script>
/* Sample data — replace fetch URLs with your backend endpoints */
const sampleCourses = [
  { code:'CSE101', title:'Data Structures', dept:'CSE', credits:4, coord:'Dr. Priya Rao', type:'Core', desc:'Arrays, Lists, Trees, Graphs and Algorithms.' },
  { code:'CSE203', title:'Operating Systems', dept:'CSE', credits:3, coord:'Dr. Amar Singh', type:'Core', desc:'Processes, Scheduling, Memory Management.' },
  { code:'AIM301', title:'Machine Learning', dept:'AI/ML', credits:4, coord:'Dr. S. Mehta', type:'Elective', desc:'Supervised & unsupervised learning, evaluation.'},
  { code:'AIM302', title:'Deep Learning', dept:'AI/ML', credits:3, coord:'Dr. N. Verma', type:'Elective', desc:'Neural nets, CNNs, RNNs, training best practices.'}
];

function renderCourseCard(c){
  return `
    <div class="course" data-code="${c.code}">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <h4>${c.title}</h4>
        <div class="chip">${c.credits} cr</div>
      </div>
      <p style="color:#666">${c.code} — ${c.dept}</p>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px">
        <small style="color:#666">${c.coord}</small>
        <div>
          <button class="btn btn-view" data-action="view" data-code="${c.code}">View</button>
        </div>
      </div>
    </div>
  `;
}

function renderTableRow(c){
  return `
    <tr data-code="${c.code}">
      <td><a href="#">${c.code}</a></td>
      <td>${c.title}</td>
      <td>${c.dept}</td>
      <td>${c.credits}</td>
      <td>${c.coord}</td>
      <td>${c.type}</td>
      <td>
        <button class="btn btn-view" data-action="view" data-code="${c.code}">View</button>
        <button class="btn btn-edit" data-action="edit" data-code="${c.code}">Edit</button>
      </td>
    </tr>
  `;
}

function loadAcademics(query='', deptFilter='') {
  // Replace this logic with a real fetch to your backend, e.g.:
  // fetch(`/academics?q=${encodeURIComponent(query)}&dept=${deptFilter}`).then(...)
  // For now use sampleCourses and basic filtering
  let data = sampleCourses.slice();
  if (deptFilter) data = data.filter(d => d.dept === deptFilter);
  if (query) {
    const q = query.toLowerCase();
    data = data.filter(d => d.title.toLowerCase().includes(q) || d.code.toLowerCase().includes(q) || d.coord.toLowerCase().includes(q));
  }

  document.getElementById('totalCourses').innerText = data.length;
  document.getElementById('coursesGrid').innerHTML = data.map(renderCourseCard).join('');
  document.getElementById('coursesTableBody').innerHTML = data.map(renderTableRow).join('');

  // wire up buttons
  document.querySelectorAll('[data-action="view"]').forEach(btn => {
    btn.addEventListener('click', () => {
      const code = btn.dataset.code;
      const course = sampleCourses.find(c => c.code === code);
      if (course) showDetailModal(course);
    });
  });
  document.querySelectorAll('[data-action="edit"]').forEach(btn => {
    btn.addEventListener('click', () => {
      alert('Edit handler — hook this to your edit form / page. Course: ' + btn.dataset.code);
    });
  });
}

function showDetailModal(course){
  document.getElementById('mdlCourseTitle').innerText = course.title;
  document.getElementById('mdlCode').innerText = course.code;
  document.getElementById('mdlDept').innerText = course.dept;
  document.getElementById('mdlCredits').innerText = course.credits;
  document.getElementById('mdlCoord').innerText = course.coord;
  document.getElementById('mdlDesc').innerText = course.desc;
  document.getElementById('detailModal').style.display = 'flex';
}

document.getElementById('closeModal').addEventListener('click', () => {
  document.getElementById('detailModal').style.display = 'none';
});

document.getElementById('globalSearch').addEventListener('input', (e) => {
  loadAcademics(e.target.value, document.getElementById('filterDept').value);
});
document.getElementById('filterDept').addEventListener('change', (e) => {
  loadAcademics(document.getElementById('globalSearch').value, e.target.value);
});
document.getElementById('addCourseBtn').addEventListener('click', () => alert('Open add-course modal / page (implement on backend)'));
document.getElementById('uploadSyllabusBtn').addEventListener('click', () => alert('Open syllabus upload dialog (implement file upload)'));

// initial render
loadAcademics();
</script>

</body>
</html>
